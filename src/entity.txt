// ğŸ¯ Project: Student Management Backend with NestJS + Entities + Relations
// Modules: StudentModule, CourseModule, DetailModule

// -------------------- FILE STRUCTURE --------------------
// ğŸ“ src/
// â”œâ”€â”€ main.ts
// â”œâ”€â”€ app.module.ts
// â”œâ”€â”€ student/
// â”‚   â”œâ”€â”€ student.module.ts
// â”‚   â”œâ”€â”€ student.controller.ts
// â”‚   â”œâ”€â”€ student.service.ts
// â”‚   â”œâ”€â”€ student.entity.ts
// â”‚   â”œâ”€â”€ dto/
// â”‚   â”‚   â””â”€â”€ create-student.dto.ts
// â”‚   â”œâ”€â”€ interfaces/
// â”‚   â”‚   â””â”€â”€ student.interface.ts
// â”œâ”€â”€ course/
// â”‚   â”œâ”€â”€ course.module.ts
// â”‚   â”œâ”€â”€ course.controller.ts
// â”‚   â”œâ”€â”€ course.service.ts
// â”‚   â”œâ”€â”€ course.entity.ts
// â”‚   â”œâ”€â”€ dto/
// â”‚   â”‚   â””â”€â”€ create-course.dto.ts
// â”‚   â”œâ”€â”€ interfaces/
// â”‚   â”‚   â””â”€â”€ course.interface.ts
// â”œâ”€â”€ detail/
// â”‚   â”œâ”€â”€ detail.module.ts
// â”‚   â”œâ”€â”€ detail.controller.ts
// â”‚   â”œâ”€â”€ detail.service.ts
// â”‚   â”œâ”€â”€ detail.entity.ts
// â”‚   â”œâ”€â”€ dto/
// â”‚   â”‚   â””â”€â”€ create-detail.dto.ts
// â”‚   â”œâ”€â”€ interfaces/
// â”‚   â”‚   â””â”€â”€ detail.interface.ts

// -------------------- student/student.entity.ts --------------------
import { Entity, PrimaryGeneratedColumn, Column, OneToOne, JoinColumn, ManyToMany, JoinTable } from 'typeorm';
import { Detail } from '../../detail/detail.entity';
import { Course } from '../../course/course.entity';

@Entity()
export class Student {
  @PrimaryGeneratedColumn()
  id: number;

  @Column()
  name: string;

  @Column()
  email: string;

  @OneToOne(() => Detail, (detail) => detail.student)
  @JoinColumn()
  detail: Detail;

  @ManyToMany(() => Course, (course) => course.students)
  @JoinTable()
  courses: Course[];
}

// -------------------- detail/detail.entity.ts --------------------
import { Entity, PrimaryGeneratedColumn, Column, OneToOne } from 'typeorm';
import { Student } from '../../student/student.entity';

@Entity()
export class Detail {
  @PrimaryGeneratedColumn()
  id: number;

  @Column()
  bio: string;

  @OneToOne(() => Student, (student) => student.detail)
  student: Student;
}

// -------------------- course/course.entity.ts --------------------
import { Entity, PrimaryGeneratedColumn, Column, ManyToMany } from 'typeorm';
import { Student } from '../../student/student.entity';

@Entity()
export class Course {
  @PrimaryGeneratedColumn()
  id: number;

  @Column()
  title: string;

  @Column()
  duration: string;

  @ManyToMany(() => Student, (student) => student.courses)
  students: Student[];
}

// -------------------- RELATIONSHIP SUMMARY --------------------
// âœ… OneToOne: Student â†” Detail
//    - A student has one detail; a detail belongs to one student
// âœ… ManyToMany: Student â‡„ Course
//    - A student can enroll in many courses; a course can have many students

// -------------------- NOTES --------------------
// âš™ï¸ These entity files assume you are using TypeORM
// âš ï¸ Make sure to configure TypeORM in main.ts or separate ormconfig.ts file
// Example:
// TypeOrmModule.forRoot({
//   type: 'sqlite',
//   database: 'db.sqlite',
//   entities: [Student, Detail, Course],
//   synchronize: true,
// })
// â• Use TypeOrmModule.forFeature([Entity]) in each module to use repositories
